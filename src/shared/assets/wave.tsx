import React, { useRef } from "react";
import { motion, useScroll, useSpring, useTransform } from "framer-motion";

export const Wave = () => {
  const containerRef = useRef(null);

  const { scrollYProgress } = useScroll({
    target: containerRef,
    offset: ["start end", "end start"],
  });

  const smoothProgress = useSpring(scrollYProgress, {
    stiffness: 20,
    damping: 30,
    restDelta: 0.001,
  });

  const pathX = useTransform(
    smoothProgress,
    [-0.2, 1], // Adjust these values to control when the animation starts and ends
    [-1800, 900] // Adjust these values to control the range of horizontal movement
  );

  return (
    <div ref={containerRef} className="w-full overflow-hidden bottom-black">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1728 280"
        width="1728"
        height="280"
        preserveAspectRatio="xMidYMid meet"
        className="w-full h-full"
      >
        <defs>
          <clipPath id="__lottie_element_25">
            <rect width="1728" height="280" x="0" y="0"></rect>
          </clipPath>
        </defs>
        <g clipPath="url(#__lottie_element_25)">
          <g
            transform="matrix(1,0,0,1,1726.80078125,139.9219970703125)"
            opacity="1"
          >
            <g opacity="1" transform="matrix(1,0,0,1,0,0)">
              <motion.path
                fill="#0c0a09"
                fillOpacity="1"
                d="M-888,-121.52899932861328 C-888,-121.52899932861328 -887.9390258789062,-121.53500366210938 -887.9390258789062,-121.53500366210938 C-738.8709716796875,-137.65199279785156 -587.8419799804688,-122.31600189208984 -485.9800109863281,-111.97200012207031 C-449.5090026855469,-108.26899719238281 -419.3420104980469,-105.20600128173828 -397.822998046875,-104.45500183105469 C-370.4280090332031,-103.48400115966797 -342.8340148925781,-101.81600189208984 -315.17401123046875,-100.14399719238281 C-207.73300170898438,-93.6510009765625 -99.31800079345703,-87.0999984741211 2.194999933242798,-121.06300354003906 C98.52200317382812,-153.3300018310547 132.21299743652344,-141.9409942626953 221.4219970703125,-103.9800033569336 C268.62298583984375,-83.9020004272461 319.74700927734375,-75.85199737548828 370.9100036621094,-67.7959976196289 C388.6700134277344,-65 406.4339904785156,-62.20199966430664 424.0409851074219,-58.9010009765625 C485.468994140625,-47.45500183105469 541.0689697265625,-52.88100051879883 600.2130126953125,-58.65399932861328 C612.0499877929688,-59.808998107910156 775.2890014648438,-61.79399871826172 888,-61.79499816894531 C912.5260009765625,-61.79499816894531 934.6599731445312,-61.70100021362305 952.3209838867188,-61.48400115966797 C981.5250244140625,-61.125999450683594 1019.1599731445312,-57.17499923706055 1060.4169921875,-52.84400177001953 C1158.7669677734375,-42.51900100708008 1277.7020263671875,-30.033000946044922 1352.0799560546875,-58.9010009765625 C1441.2889404296875,-96.86199951171875 1617.85205078125,-121.06300354003906 1773.926025390625,-121.06300354003906 C1851.8089599609375,-121.06300354003906 1904.237060546875,-114.23699951171875 1950.572021484375,-108.2040023803711 C1997.0909423828125,-102.14800262451172 2037.468017578125,-96.89099884033203 2091.294921875,-100.14399719238281 C2118.9541015625,-101.81500244140625 2146.548095703125,-103.48400115966797 2173.944091796875,-104.45500183105469 C2255.452880859375,-107.2979965209961 2337.080078125,-110.14199829101562 2418.70703125,-112.98500061035156 C2418.70703125,-112.98500061035156 2419.047119140625,-112.99600219726562 2419.047119140625,-112.99600219726562 C2446.278076171875,-113.94499969482422 2460.0849609375,-112.77799987792969 2473.89111328125,-111.61100006103516 C2501.49609375,-109.27799987792969 2529.094970703125,-106.94499969482422 2664,-121.52899932861328 C2664,-121.52899932861328 2664,139.9219970703125 2664,139.9219970703125 C2664,139.9219970703125 -2664,139.9219970703125 -2664,139.9219970703125 C-2664,139.9219970703125 -2664,-61.79499816894531 -2664,-61.79499816894531 C-2639.47412109375,-61.79499816894531 -2617.340087890625,-61.70100021362305 -2599.678955078125,-61.48400115966797 C-2570.47509765625,-61.125999450683594 -2532.841064453125,-57.17499923706055 -2491.5830078125,-52.84400177001953 C-2393.23291015625,-42.51900100708008 -2274.298095703125,-30.033000946044922 -2199.919921875,-58.9010009765625 C-2110.7109375,-96.86199951171875 -1934.14794921875,-121.06300354003906 -1778.073974609375,-121.06300354003906 C-1700.1910400390625,-121.06300354003906 -1647.761962890625,-114.23699951171875 -1601.427001953125,-108.2040023803711 C-1554.907958984375,-102.14800262451172 -1514.531982421875,-96.89099884033203 -1460.7049560546875,-100.14399719238281 C-1433.0460205078125,-101.81500244140625 -1405.4520263671875,-103.48400115966797 -1378.0560302734375,-104.45500183105469 C-1296.4339599609375,-107.302001953125 -1214.6929931640625,-110.14900207519531 -1132.9530029296875,-112.99600219726562 C-1105.7220458984375,-113.94499969482422 -1091.9150390625,-112.77799987792969 -1078.1090087890625,-111.61100006103516 C-1050.5040283203125,-109.27799987792969 -1022.905029296875,-106.94499969482422 -888,-121.52899932861328z"
                style={{ x: pathX }}
              />
            </g>
          </g>
        </g>
      </svg>
    </div>
  );
};
